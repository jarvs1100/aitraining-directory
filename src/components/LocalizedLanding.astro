---
import Breadcrumbs from './Breadcrumbs.astro';
import { localeMeta, getLocalizedSupportBlocks, getLocalizedUiStrings } from '../lib/i18n.js';
const { page, alternates = [], siblingPages = [] } = Astro.props;
const currentLocaleName = localeMeta[page.locale]?.name || page.locale.toUpperCase();
const supportBlocks = getLocalizedSupportBlocks(page.key, page.locale);
const ui = getLocalizedUiStrings(page.locale);
---
<Breadcrumbs items={[{ label: ui.home, href: '/' }, { label: currentLocaleName, href: `/${page.locale}/` }, { label: page.h1, href: `/${page.locale}/${page.slug}/` }]} />
<section class="hero">
  <span class="eyebrow">{supportBlocks.labels.editionTag}</span>
  <h1 style="margin-top:0.8rem;">{page.h1}</h1>
  <p class="muted">{page.intro}</p>
  <div class="grid" style="margin-top:1rem;">
    {page.points.map((point) => (
      <article class="card">
        <h3>{point}</h3>
        <p class="muted" style="margin:0;">{ui.pointSupportCopy}</p>
      </article>
    ))}
  </div>
  <div class="hero-actions" style="margin-top:1rem;">
    <a class="btn btn-primary" href={page.enPath}>{supportBlocks.labels.openEnglishPageCta}</a>
    <a class="btn btn-secondary" href="/advertise/">{supportBlocks.labels.waitlistCta}</a>
  </div>
</section>

<section class="section" aria-labelledby="checklist-heading">
  <h2 id="checklist-heading">{supportBlocks.labels.checklistHeading}</h2>
  <ul>
    {supportBlocks.checklist.map((item) => <li>{item}</li>)}
  </ul>
</section>

<section class="section" aria-labelledby="next-links-heading">
  <h2 id="next-links-heading">{supportBlocks.labels.nextPagesHeading}</h2>
  <div class="chips">
    {supportBlocks.internalLinks.map((item) => (
      <a class="chip" href={item.href}>{item.label}</a>
    ))}
  </div>
</section>

{Boolean(siblingPages.length) && (
  <section class="section" aria-labelledby="other-editions-heading">
    <h2 id="other-editions-heading">{supportBlocks.labels.otherLanguagesHeading}</h2>
    <div class="chips">
      {siblingPages.map((item) => (
        <a class="chip" href={`/${item.locale}/${item.slug}/`}>{localeMeta[item.locale]?.name || item.locale.toUpperCase()}</a>
      ))}
    </div>
  </section>
)}
<p class="muted" style="font-size:14px;">{supportBlocks.intentCopy}</p>
