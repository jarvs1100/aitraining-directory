---
import Base from '../../layouts/Base.astro';
import Breadcrumbs from '../../components/Breadcrumbs.astro';
import { comparisonPages, getComparisonBySlug, pickTools } from '../../lib/programmatic.js';

export async function getStaticPaths() { return comparisonPages.map((p) => ({ params: { slug: p.slug } })); }
const { slug } = Astro.params;
const page = getComparisonBySlug(slug);
if (!page) throw new Error(`Comparison page not found: ${slug}`);
const canonical = `https://aitraining.directory/compare/${slug}/`;
const candidates = pickTools((slug.length + 3) % 8, 4);

const comparisonContentBySlug = {
  'synthesia-alternatives': {
    decisionMatrix: [
      { criterion: 'Speed to first publish', weight: '20%', whatGoodLooksLike: 'Team can publish first approved module in <5 business days.', synthesiaLens: 'Strong for avatar-led scripts; slower when teams need heavy scene-level edits.', alternativesLens: 'Prioritize options with fast template reuse and easy revision loops for SMEs.' },
      { criterion: 'Editing depth for L&D workflows', weight: '25%', whatGoodLooksLike: 'Instructional designers can refine pacing, visuals, and overlays without recreating scenes.', synthesiaLens: 'Clean workflow for standard formats, but complex edits can require workarounds.', alternativesLens: 'Favor tools with timeline-level control if your team iterates frequently.' },
      { criterion: 'Localization and language QA', weight: '20%', whatGoodLooksLike: 'Native-review pass is lightweight and pronunciation issues are fixable in-platform.', synthesiaLens: 'Broad language support; validate voice quality for domain vocabulary.', alternativesLens: 'Check glossary controls, voice cloning governance, and regional tone flexibility.' },
      { criterion: 'Governance + approvals', weight: '20%', whatGoodLooksLike: 'Version history, reviewer roles, and signoff checkpoints are explicit.', synthesiaLens: 'Evaluate workspace controls against compliance requirements.', alternativesLens: 'Some alternatives win on collaboration history and approval routing depth.' },
      { criterion: 'Operating cost at scale', weight: '15%', whatGoodLooksLike: 'Cost per published training minute declines as output rises.', synthesiaLens: 'Model cost against seat count + production volume.', alternativesLens: 'Benchmark total monthly spend including editing and localization tools.' }
    ],
    buyingCriteria: [
      'Run one identical pilot workflow across all shortlisted tools (same SOP, same reviewer panel, same deadline).',
      'Score each tool on revision turnaround time, not just first draft speed.',
      'Require a multilingual test clip if your org supports non-English learners.',
      'Validate export/integration path into LMS or knowledge base before procurement signoff.',
      'Tie final selection to 90-day operating model: owners, approval SLA, and update cadence.'
    ]
  }
};

const defaultComparisonContent = {
  decisionMatrix: [
    { criterion: 'Workflow fit', weight: '30%', whatGoodLooksLike: 'Publishing and updates stay fast under real team constraints.', synthesiaLens: 'Use this column to evaluate incumbent fit.', alternativesLens: 'Use this column to evaluate differentiation.' },
    { criterion: 'Review + governance', weight: '25%', whatGoodLooksLike: 'Approvals, versioning, and accountability are clear.', synthesiaLens: 'Check control depth.', alternativesLens: 'Check parity or advantage in review rigor.' },
    { criterion: 'Localization readiness', weight: '25%', whatGoodLooksLike: 'Multilingual delivery does not require full rebuilds.', synthesiaLens: 'Test language quality with real terminology.', alternativesLens: 'Test localization + reviewer workflows.' },
    { criterion: 'Cost to operate', weight: '20%', whatGoodLooksLike: 'Total effort and spend fall as output scales.', synthesiaLens: 'Model full-team cost.', alternativesLens: 'Model end-to-end production stack cost.' }
  ],
  buyingCriteria: [
    'Align stakeholders on one weighted scorecard before any demos.',
    'Use measurable pilot outcomes (cycle time, QA defects, completion impact).',
    'Document ownership and approval paths before rollout.',
    'Reassess fit after first production month with real usage data.'
  ]
};

const comparisonContent = { ...defaultComparisonContent, ...(comparisonContentBySlug[slug] || {}) };

const faq = [
  { q: 'What should L&D teams optimize for first?', a: 'Prioritize cycle-time reduction on one high-friction workflow, then expand only after measurable gains in production speed and adoption.' },
  { q: 'How long should a pilot run?', a: 'Two to four weeks is typically enough to validate operational fit, update speed, and stakeholder confidence.' },
  { q: 'How do we avoid a biased evaluation?', a: 'Use one scorecard, one test workflow, and the same review panel for every tool in the shortlist.' }
];

const jsonLd = {
  '@context': 'https://schema.org',
  '@graph': [
    { '@type': 'Article', headline: page.title, description: page.meta, mainEntityOfPage: canonical },
    { '@type': 'FAQPage', mainEntity: faq.map((item) => ({ '@type': 'Question', name: item.q, acceptedAnswer: { '@type': 'Answer', text: item.a } })) }
  ]
};
---
<Base title={page.title} description={page.meta} canonical={canonical} jsonLd={jsonLd}>
  <Breadcrumbs items={[{ label: 'Home', href: '/' }, { label: 'Compare', href: '/compare/' }, { label: page.title, href: `/compare/${slug}/` }]} />
  <h1>{page.title}</h1>
  <p class="muted">{page.intro} Use this route to decide faster with an implementation-led lens instead of a feature checklist.</p>

  <h2>Practical comparison framework</h2>
  <ol>
    <li><strong>Workflow fit:</strong> Can your team publish and update training content quickly?</li>
    <li><strong>Review model:</strong> Are approvals and versioning reliable for compliance-sensitive content?</li>
    <li><strong>Localization:</strong> Can you support multilingual or role-specific variants without rework?</li>
    <li><strong>Total operating cost:</strong> Does the tool reduce weekly effort for content owners and managers?</li>
  </ol>

  <h2>Decision matrix</h2>
  <p class="muted" style="margin-top:-0.4rem;">On mobile, use the card view below for faster side-by-side scoring.</p>
  <div class="matrix-table-wrap" aria-label="Desktop decision matrix table">
    <table class="matrix-table">
      <thead>
        <tr>
          <th>Criterion</th>
          <th>Weight</th>
          <th>What good looks like</th>
          <th>Synthesia lens</th>
          <th>Alternative lens</th>
        </tr>
      </thead>
      <tbody>
        {comparisonContent.decisionMatrix.map((row) => (
          <tr>
            <td><strong>{row.criterion}</strong></td>
            <td>{row.weight}</td>
            <td>{row.whatGoodLooksLike}</td>
            <td>{row.synthesiaLens}</td>
            <td>{row.alternativesLens}</td>
          </tr>
        ))}
      </tbody>
    </table>
  </div>

  <div class="matrix-mobile" aria-label="Mobile decision matrix cards">
    {comparisonContent.decisionMatrix.map((row) => (
      <article class="card matrix-card">
        <h3>{row.criterion}</h3>
        <p><strong>Weight:</strong> {row.weight}</p>
        <p><strong>What good looks like:</strong> {row.whatGoodLooksLike}</p>
        <p><strong>Synthesia lens:</strong> {row.synthesiaLens}</p>
        <p><strong>Alternative lens:</strong> {row.alternativesLens}</p>
      </article>
    ))}
  </div>

  <h2>Buying criteria before final selection</h2>
  <ul>
    {comparisonContent.buyingCriteria.map((item) => <li>{item}</li>)}
  </ul>

  <h2>Related tools in this directory</h2>
  <div class="grid">
    {candidates.map((tool) => (
      <article class="card">
        <h3><a href={`/tool/${tool.slug}/`}>{tool.name}</a></h3>
        <p>{tool.summary}</p>
      </article>
    ))}
  </div>

  <section class="section" aria-labelledby="next-steps-heading">
    <h2 id="next-steps-heading">Next steps</h2>
    <div class="chips">
      <a class="chip" href="/solutions/">Browse solution pages</a>
      <a class="chip" href="/solutions/sop-to-video-training/">SOP-to-video implementation route</a>
      <a class="chip" href="/solutions/compliance-training-content-creation/">Compliance content route</a>
      <a class="chip" href="/categories/">Explore categories</a>
    </div>
  </section>

  <section class="section" aria-labelledby="faq-heading">
    <h2 id="faq-heading">FAQ</h2>
    {faq.map((item) => (
      <>
        <h3>{item.q}</h3>
        <p>{item.a}</p>
      </>
    ))}
  </section>

  <style>
    .matrix-table-wrap {
      overflow-x: auto;
      display: block;
    }

    .matrix-table {
      width: 100%;
      border-collapse: collapse;
      min-width: 760px;
      background: #fff;
      border: 2px solid #18181b;
    }

    .matrix-table th,
    .matrix-table td {
      border: 1px solid #d4d4d8;
      padding: 0.7rem;
      text-align: left;
      vertical-align: top;
    }

    .matrix-table th {
      background: #dcfce7;
      font-size: 0.9rem;
    }

    .matrix-mobile {
      display: none;
      gap: 0.75rem;
      margin-top: 0.7rem;
    }

    .matrix-card {
      box-shadow: none;
      border-top-width: 4px;
      padding: 1rem;
    }

    .matrix-card h3 {
      margin-bottom: 0.65rem;
      font-size: 1.12rem;
    }

    .matrix-card p {
      margin-bottom: 0.6rem;
      max-width: none;
      font-size: 0.95rem;
    }

    .matrix-card p:last-child {
      margin-bottom: 0;
    }

    @media (max-width: 760px) {
      .matrix-table-wrap {
        display: none;
      }

      .matrix-mobile {
        display: grid;
      }
    }
  </style>
</Base>
